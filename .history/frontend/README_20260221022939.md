# Crypto Price Ticker – Lightweight Frontend Container

A minimal, real‑time cryptocurrency price ticker built with [Svelte](https://svelte.dev/), [Vite](https://vitejs.dev/), and [Tailwind CSS](https://tailwindcss.com/), packaged as an efficient Docker container. The application connects to a WebSocket feed (e.g., Binance) to display live BTC/USDT prices, 24h change, and volume. It is designed to be resource‑friendly and adaptable to different environments.

---

## Overview

This project provides a single‑page application that shows real‑time price data for a cryptocurrency pair (default `BTCUSDT`). It features:

- Live WebSocket connection with automatic reconnection.
- Clean, responsive UI with connection status indicator.
- Lightweight footprint – the final Docker image is just an nginx serving static files (under 25 MB).

The frontend is built with Svelte, which compiles to highly optimized vanilla JavaScript, and Vite ensures fast builds and minimal bundle sizes. The multi‑stage Docker build guarantees a tiny production image.

---

## Features

- **Real‑time updates** via WebSocket (configurable endpoint).
- **Connection status** (Connected / Connecting / Disconnected) with visual badge.
- **Price display** with animated arrow indicating direction change.
- **24h change** (percentage) with color coding (green for positive, red for negative).
- **Volume** display (formatted with thousands separators).
- **Responsive design** – works on desktop and mobile.
- **Docker‑ready** – multi‑stage build produces a slim container.

---

## Efficiency and Resource Optimization

The container is built with low resource consumption in mind:

- **Multi‑stage Docker build**  
  - **Builder stage**: Uses `node:20-alpine` to install dependencies (`npm ci`) and build the app.  
  - **Final stage**: Copies only the static `dist/` folder into an `nginx:alpine` image. No Node.js runtime or build tools are included, keeping the image size minimal (~23 MB).
- **Svelte framework**  
  Svelte shifts work from runtime to compile time, producing tiny, framework‑less JavaScript bundles. No virtual DOM overhead means faster rendering and less memory usage.
- **Vite bundling**  
  Vite performs tree‑shaking, code splitting, and minification, resulting in optimal asset sizes.
- **nginx as a static server**  
  Nginx is lightweight, handles high concurrency efficiently, and serves static files with low overhead.
- **Alpine Linux base**  
  Both builder and final images use Alpine, a minimal Linux distribution, reducing disk and memory footprint.

---

## Project Structure

The project follows a standard Svelte + Vite layout, with configuration files in the root and source code in `src/`. Below is a typical folder structure:

```
.
├── Dockerfile                 # Multi‑stage build definition
├── .env                       # Environment variables (optional, not committed)
├── .gitignore
├── index.html                 # Vite entry point
├── package.json
├── public/                    # Static assets (copied as‑is to dist)
│   └── favicon.svg
├── src/
│   ├── app.css                # Global styles (Tailwind imports)
│   ├── App.svelte             # Main application component
│   └── main.js                # Application entry point (mounts App)
├── svelte.config.js           # Svelte compiler configuration
├── vite.config.js             # Vite configuration (Tailwind plugin, etc.)
└── README.md                  # This file
```

### Key Files Explained

- **`Dockerfile`** – Multi‑stage build: installs dependencies, builds the app, and copies the output to an nginx image.
- **`src/App.svelte`** – The main Svelte component containing the UI logic and WebSocket handling.
- **`src/app.css`** – Imports Tailwind CSS directives; may include custom styles.
- **`vite.config.js`** – Configures Vite plugins (Tailwind, Svelte) and build options.
- **`svelte.config.js`** – Sets up Svelte preprocessors (e.g., `vitePreprocess` for Tailwind).
- **`index.html`** – The HTML template; Vite injects the built scripts.
- **`public/`** – Contains static files like `favicon.svg` that are served at the root.

---

## Adaptability

The application can be easily adapted to different scenarios:

- **Configurable WebSocket URL** – set the `VITE_WS_URL` environment variable at build time to point to any WebSocket endpoint (see [Environment Variables](#environment-variables)).
- **Symbol can be changed** – the hardcoded symbol (`BTCUSDT`) is in `App.svelte` and can be modified, or you can extend the app to accept a symbol via URL/configuration.
- **Responsive UI** – built with Tailwind CSS utility classes, making it straightforward to adjust layouts or themes.
- **Static hosting** – because the final output is a set of static files, you can deploy it on any web server (nginx, Apache, CDN, S3, etc.) without Docker if desired.
- **Environment‑agnostic** – the WebSocket logic includes automatic reconnection, so it can handle intermittent network issues gracefully.

---

## Prerequisites

- **Node.js** (v18 or newer) – for local development.
- **npm** (v9 or newer) – package manager.
- **Docker** – optional, for containerized deployment.

---

## Getting Started (Development)

1. **Clone the repository**  

   ```bash
   git clone <repository-url>
   cd <project-folder>
   ```

2. **Install dependencies**  

   ```bash
   npm install
   ```

3. **Set the WebSocket URL (optional)**  
   Create a `.env` file in the project root:

   ```
   VITE_WS_URL=wss://your-websocket-endpoint.com/ws
   ```

   If not set, it defaults to `ws://localhost:8000/ws`.

4. **Run the development server**  

   ```bash
   npm run dev
   ```

   The app will be available at `http://localhost:5173` with hot module replacement.

---

## Building for Production

To generate a production build of the frontend (without Docker):

```bash
npm run build
```

The output will be in the `dist/` folder, ready to be served by any static web server.

---

## Docker Container

### Building the Docker Image

The provided `Dockerfile` performs a multi‑stage build. To create the image:

```bash
docker build -t crypto-ticker-frontend .
```

You can optionally pass the WebSocket URL as a build argument:

```bash
docker build --build-arg VITE_WS_URL=wss://example.com/ws -t crypto-ticker-frontend .
```

> **Note**: If you need to change the WebSocket URL without rebuilding, you can serve the static files and configure the endpoint via a runtime environment variable with a reverse proxy, but the simplest way is to rebuild with the desired URL.

### Running the Container

Start a container from the image:

```bash
docker run -d -p 8080:80 --name ticker crypto-ticker-frontend
```

Now access the app at `http://localhost:8080`.

### Environment Variables

The following environment variable can be used **at build time** (since Vite embeds environment variables during the build):

| Variable      | Description                                 | Default                 |
| ------------- | ------------------------------------------- | ----------------------- |
| `VITE_WS_URL` | WebSocket server URL for real‑time updates. | `ws://localhost:8000/ws`|

To change it at runtime without rebuilding, you would need to modify the built files (e.g., with a script that replaces a placeholder) – not recommended for this simple setup.

---

## Configuration

### WebSocket Endpoint

The WebSocket URL is defined by the environment variable `VITE_WS_URL`. In the code (`App.svelte`), it falls back to a local default if the variable is not set.

### Symbol

The displayed symbol is currently hardcoded as `BTCUSDT` in the `priceData` initial state. To change it, edit the `priceData` object in `App.svelte`:

```js
let priceData = { symbol: 'ETHUSDT', price: '0', change: '0', volume: '0' };
```

If you need dynamic symbols, you can extend the component to accept a prop or read from the URL.

---

## Deployment

Because the final output is a set of static files, you can deploy the `dist/` folder to any static hosting service:

- **Netlify / Vercel** – connect your repository and they will build automatically.
- **AWS S3 + CloudFront** – upload the `dist/` folder to an S3 bucket.
- **GitHub Pages** – push the built files to the `gh-pages` branch.

If you prefer Docker, the built image can be pushed to a container registry and deployed on any container orchestration platform (Kubernetes, Docker Swarm, etc.).

---

## WebSocket Data Format

The frontend expects messages from the WebSocket server to be JSON objects with the following structure:

```json
{
  "symbol": "BTCUSDT",
  "price": "45000.00",
  "change": "2.5",
  "volume": "1234567"
}
```

- `symbol` – trading pair (string)
- `price` – current price (string or number)
- `change` – 24h percentage change (string or number)
- `volume` – 24h volume (string or number)

The application parses these values and displays them accordingly. If the WebSocket closes, it attempts to reconnect after 2 seconds by reloading the page (this behaviour can be modified).

---

## License

This project is open source and available under the [MIT License](LICENSE).

---

*Built with ❤️ using Svelte, Vite, Tailwind CSS, and Docker.*
